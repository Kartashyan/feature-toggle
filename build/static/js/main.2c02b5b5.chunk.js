(this["webpackJsonpfeature-toggle-app"]=this["webpackJsonpfeature-toggle-app"]||[]).push([[0],{61:function(e,t,a){e.exports=a(72)},72:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),l=a(41),u=a(11),i=a(117),s=a(115),m=a(114),d=a(19),p=a.n(d),f=a(27),h=a(20),g=a(106),b=a(109),E=a(116),v=a(112),w=a(111),k=a(113),O="https://mmcq21v28g.execute-api.eu-central-1.amazonaws.com/dev/features";function y(e){var t=Object(n.useState)(!1),a=Object(h.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(null),l=Object(h.a)(o,2),u=l[0],i=l[1],s=Object(n.useState)(e),m=Object(h.a)(s,2),d=m[0],g=m[1];function b(e,t){return E.apply(this,arguments)}function E(){return(E=Object(f.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,t(a.pathParam,a.data);case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,g(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),i(e.t0);case 14:c(!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}return{api:{get:function(e){return b(F,{pathParam:e})},post:function(e,t){return b(S,{pathParam:t,data:e})},delete:function(e){return b(x,{pathParam:e})},update:function(e,t){return b(j,{pathParam:t,data:e})}},error:u,loading:r,response:d}}function j(e,t){return fetch("".concat(O,"/").concat(e),{method:"PUT",body:JSON.stringify(t)})}function x(e){return fetch("".concat(O,"/").concat(e),{method:"DELETE"})}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return fetch("".concat(O,"/").concat(e),{method:"POST",body:JSON.stringify(t)})}function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return fetch("".concat(O,"/").concat(e))}function P(){var e=y(),t=e.loading,a=e.error,n=e.api;return{error:a,loading:t,updateFeatureState:function(e,t){return n.update({enabled:e},t)},deleteFeature:function(e){return n.delete(e)},addFeature:function(e){return n.post({name:e})}}}var C=Object(g.a)({root:{margin:12},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}});function N(e){var t=e.onAddFeature,a=C(),c=Object(n.useState)(""),o=Object(h.a)(c,2),l=o[0],u=o[1],i=P(),s=i.loading,d=i.addFeature,g=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(l);case 2:t(),u("");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(b.a,{className:a.root},r.a.createElement(w.a,null,r.a.createElement(E.a,{id:"standard-full-width",value:l,onChange:function(e){console.log(e.target.checked),u(e.target.value)},label:"Add feature",style:{margin:8},helperText:"Type a feature name",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}})),r.a.createElement(v.a,null,r.a.createElement(k.a,{onClick:g,fullWidth:!0,variant:"contained",color:"primary",disabled:!l},"Add Feature")),s&&r.a.createElement(m.a,null))}function W(){var e=y([]),t=e.response,a=e.loading,r=e.error,c=e.api,o=Object(n.useState)(),l=Object(h.a)(o,2),u=l[0],i=l[1];return Object(n.useEffect)((function(){c.get()}),[u]),{response:t,error:r,loading:a,refetch:function(){return i(Date.now())}}}var A=a(118),D=Object(g.a)({root:{margin:12},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}});function L(e){var t=e.name,a=e.checked,n=e.loading,c=e.onChange,o=e.onDelete,l=D();return r.a.createElement(b.a,{className:l.root},r.a.createElement(w.a,null,r.a.createElement("h3",{role:"featureName"},t)),r.a.createElement(v.a,null,r.a.createElement(A.a,{checked:a,onChange:c,color:"primary",name:t,inputProps:{"aria-label":"primary checkbox"}}),r.a.createElement(k.a,{variant:"contained",color:"secondary",className:l.button,onClick:o},"Delete")),n&&r.a.createElement(m.a,null))}function T(e){var t=e.name,a=e.enabled,c=e.onRefetch,o=Object(n.useState)(a),l=Object(h.a)(o,2),u=l[0],i=l[1],s=P(),m=(s.error,s.loading),d=s.updateFeatureState,g=s.deleteFeature,b=function(){var e=Object(f.a)(p.a.mark((function e(a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.target.checked,e.next=3,d(n,t);case 3:i(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t);case 2:c();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(L,{name:t,checked:u,loading:m,onChange:b,onDelete:E})}function B(){var e=W(),t=e.response,a=e.loading,n=e.error,c=e.refetch;return r.a.createElement(s.a,{maxWidth:"sm"},a&&r.a.createElement(m.a,null),r.a.createElement("h3",null,"Features List"),n&&r.a.createElement("p",null,"Something went wrong..."),r.a.createElement(N,{onAddFeature:c}),r.a.createElement("div",{"data-testid":"featuresList"},t.map((function(e){return r.a.createElement(T,{name:e.name,onChange:c,enabled:e.enabled,key:e.name})}))))}var J=a(73);function z(){var e=W(),t=e.response,a=e.loading,n=e.error;e.refetch;return r.a.createElement(s.a,{maxWidth:"sm"},a&&r.a.createElement(m.a,null),n&&r.a.createElement("p",null,"Something went wrong..."),r.a.createElement("div",{"data-testid":"featuresList"},t.map((function(e){return r.a.createElement(J.a,{elevation:3,key:e.name},r.a.createElement("h4",null,e.name))}))))}function I(){return r.a.createElement(l.a,null,r.a.createElement(i.a,{"aria-label":"breadcrumb"},r.a.createElement(l.b,{to:"/"},"User page"),r.a.createElement(l.b,{to:"/admin"},"Admin page")),r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/admin"},r.a.createElement(B,null)),r.a.createElement(u.a,{path:"/"},r.a.createElement(z,null))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[61,1,2]]]);
//# sourceMappingURL=main.2c02b5b5.chunk.js.map